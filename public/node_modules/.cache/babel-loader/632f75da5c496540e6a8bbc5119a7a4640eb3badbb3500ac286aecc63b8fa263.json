{"ast":null,"code":"import React,{useEffect,useState}from'react';import{fetchProducts,deleteProduct,fetchLowStock,downloadPDF}from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductTable=_ref=>{let{refresh}=_ref;const[products,setProducts]=useState([]);const[lowStock,setLowStock]=useState([]);const loadProducts=async()=>{const data=await fetchProducts();setProducts(data);};const loadLowStock=async()=>{const data=await fetchLowStock();setLowStock(data);};useEffect(()=>{loadProducts();loadLowStock();},[refresh]);const handleDelete=async id=>{await deleteProduct(id);loadProducts();loadLowStock();};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Inventory Products\"}),/*#__PURE__*/_jsx(\"button\",{onClick:downloadPDF,children:\"\\uD83D\\uDCC4 Download PDF Report\"}),/*#__PURE__*/_jsx(\"h4\",{style:{color:'red',marginTop:'20px'},children:lowStock.length>0&&'${lowStock.length} products are low in stock!'}),/*#__PURE__*/_jsxs(\"table\",{border:\"1\",cellPadding:\"10\",cellSpacing:\"0\",style:{marginTop:'20px',width:'100%'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Qty\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Updated\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(p=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:p.name}),/*#__PURE__*/_jsx(\"td\",{children:p.quantity}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u20B9\",p.price]}),/*#__PURE__*/_jsx(\"td\",{children:p.description}),/*#__PURE__*/_jsx(\"td\",{children:new Date(p.updated_at).toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(p.id),children:\"\\u274C Delete\"})})]},p.id))})]})]});};export default ProductTable;","map":{"version":3,"names":["React","useEffect","useState","fetchProducts","deleteProduct","fetchLowStock","downloadPDF","jsx","_jsx","jsxs","_jsxs","ProductTable","_ref","refresh","products","setProducts","lowStock","setLowStock","loadProducts","data","loadLowStock","handleDelete","id","style","padding","children","onClick","color","marginTop","length","border","cellPadding","cellSpacing","width","map","p","name","quantity","price","description","Date","updated_at","toLocaleString"],"sources":["C:/Users/gitpp/inventory-frontend/src/components/ProductTable.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { fetchProducts, deleteProduct, fetchLowStock, downloadPDF } from '../api';\r\n\r\nconst ProductTable = ({ refresh }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const [lowStock, setLowStock] = useState([]);\r\n\r\n  const loadProducts = async () => {\r\n    const data = await fetchProducts();\r\n    setProducts(data);\r\n  };\r\n    const loadLowStock = async () => {\r\n    const data = await fetchLowStock();\r\n    setLowStock(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadProducts();\r\n    loadLowStock();\r\n  }, [refresh]);\r\n\r\n  const handleDelete = async (id) => {\r\n    await deleteProduct(id);\r\n    loadProducts();\r\n    loadLowStock();\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h2>Inventory Products</h2>\r\n      <button onClick={downloadPDF}>üìÑ Download PDF Report</button>\r\n      <h4 style={{ color: 'red', marginTop: '20px' }}>\r\n        {lowStock.length > 0 &&  '${lowStock.length} products are low in stock!'}\r\n      </h4>\r\n      <table border=\"1\" cellPadding=\"10\" cellSpacing=\"0\" style={{ marginTop: '20px', width: '100%' }}>\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Qty</th>\r\n            <th>Price</th>\r\n            <th>Description</th>\r\n            <th>Updated</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.map(p => (\r\n            <tr key={p.id}>\r\n              <td>{p.name}</td>\r\n              <td>{p.quantity}</td>\r\n              <td>‚Çπ{p.price}</td>\r\n              <td>{p.description}</td>\r\n              <td>{new Date(p.updated_at).toLocaleString()}</td>\r\n              <td>\r\n                <button onClick={() => handleDelete(p.id)}>‚ùå Delete</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}